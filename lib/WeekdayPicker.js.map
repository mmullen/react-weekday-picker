{"version":3,"sources":["../src/WeekdayPicker.js"],"names":[],"mappings":"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","file":"WeekdayPicker.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { localeUtils } from './utils';\r\n\r\nconst keys = {\r\n  LEFT: 37,\r\n  RIGHT: 39,\r\n  ENTER: 13,\r\n  SPACE: 32\r\n};\r\n\r\nclass WeekdayPicker extends Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    tabIndex: PropTypes.number,\r\n\r\n    ariaModifier: PropTypes.string,\r\n    modifiers: PropTypes.object,\r\n\r\n    locale: PropTypes.string,\r\n    localeUtils: PropTypes.shape({\r\n      formatWeekdayShort: PropTypes.func.isRequired,\r\n      formatWeekdayLong: PropTypes.func.isRequired\r\n    }),\r\n\r\n    onWeekdayClick: PropTypes.func,\r\n    onWeekdayMouseEnter: PropTypes.func,\r\n    onWeekdayMouseLeave: PropTypes.func,\r\n    onWeekdayTouchTap: PropTypes.func,\r\n  }\r\n\r\n  static defaultProps = {\r\n    ariaModifier: 'selected',\r\n    locale: 'en',\r\n    localeUtils: localeUtils,\r\n    tabIndex: 0,\r\n  }\r\n\r\n  getModifiersForDay(weekday, modifierFunctions) {\r\n    const modifiers = [];\r\n    if (modifierFunctions) {\r\n      for (const modifier in modifierFunctions) {\r\n        const func = modifierFunctions[modifier];\r\n        if (func(weekday)) {\r\n          modifiers.push(modifier);\r\n        }\r\n      }\r\n    }\r\n    return modifiers;\r\n  }\r\n\r\n  render() {\r\n    const { locale, style, tabIndex } = this.props;\r\n    let className = `WeekdayPicker DayPicker DayPicker--${locale}`;\r\n\r\n    if (!this.props.onWeekdayClick && !this.props.onWeekdayTouchTap) {\r\n      className = `${className} WeekdayPicker--InteractionDisabled`;\r\n    }\r\n    if (this.props.className) {\r\n      className = `${className} ${this.props.className}`;\r\n    }\r\n\r\n    return (\r\n      <div className={className}\r\n        role=\"widget\"\r\n        style={style}\r\n        tabIndex={ tabIndex }\r\n      >\r\n        {this.renderWeekDays()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderWeekDays() {\r\n    let weekdays = [];\r\n    for (let i = 0; i < 7; i++) {\r\n      weekdays.push(this.renderWeekday(i));\r\n    }\r\n    return (\r\n      <div className=\"DayPicker-Month\">\r\n        <div className=\"DayPicker-Weekdays\">\r\n          <div>\r\n            {weekdays}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderWeekday(weekday) {\r\n    const { locale, localeUtils, modifiers: modifierFunctions } = this.props;\r\n\r\n    let className = 'DayPicker-Weekday';\r\n    let modifiers = [];\r\n\r\n    if (modifierFunctions) {\r\n      const customModifiers = this.getModifiersForDay(weekday, modifierFunctions);\r\n      modifiers = [...modifiers, ...customModifiers];\r\n    }\r\n\r\n    className += modifiers.map(modifier => ` ${className}--${modifier}`).join('');\r\n\r\n    const ariaSelected = modifiers.indexOf(this.props.ariaModifier) > -1;\r\n\r\n    const {\r\n      onWeekdayClick,\r\n      onWeekdayMouseEnter,\r\n      onWeekdayMouseLeave,\r\n      onWeekdayTouchTap,\r\n    } = this.props;\r\n\r\n    let tabIndex = null;\r\n    if (onWeekdayTouchTap || onWeekdayClick) {\r\n      tabIndex = -1;\r\n      // Focus on the first day of the week\r\n      if (weekday === 0) {\r\n        tabIndex = this.props.tabIndex;\r\n      }\r\n    }\r\n\r\n    let onClick = null;\r\n    if (onWeekdayClick) {\r\n      onClick = (e) => this.handleWeekdayClick(e, weekday, modifiers);\r\n    }\r\n    let onMouseEnter = null;\r\n    if (onWeekdayMouseEnter) {\r\n      onMouseEnter = (e) => this.handleWeekdayMouseEnter(e, weekday, modifiers);\r\n    }\r\n    let onMouseLeave = null;\r\n    if (onWeekdayMouseLeave) {\r\n      onMouseLeave = (e) => this.handleWeekdayMouseLeave(e, weekday, modifiers);\r\n    }\r\n    let onTouchTap = null;\r\n    if (onWeekdayTouchTap) {\r\n      onTouchTap = (e) => this.handleWeekdayTouchTap(e, weekday, modifiers)\r\n    }\r\n\r\n    return (\r\n      <button key={weekday} className={className} tabIndex={tabIndex}\r\n        aria-pressed={ariaSelected}\r\n        onClick= {onClick}\r\n        onKeyDown={(e) => this.handleDayKeyDown(e, weekday, modifiers)}\r\n        onMouseEnter={onMouseEnter}\r\n        onMouseLeave= {onMouseLeave}\r\n        onTouchTap= {onTouchTap}\r\n      >\r\n        <attr title={localeUtils.formatWeekdayLong(weekday, locale)}>\r\n          {localeUtils.formatWeekdayShort(weekday, locale)}\r\n        </attr>\r\n      </button>\r\n    );\r\n  }\r\n\r\n  focusPreviousDay(dayNode) {\r\n    const body = dayNode.parentNode.parentNode.parentNode.parentNode;\r\n    let dayNodes = body.querySelectorAll('.DayPicker-Weekday:not(.DayPicker-Weekday--outside)');\r\n    let nodeIndex;\r\n    for (let i = 0; i < dayNodes.length; i++) {\r\n      if (dayNodes[i] === dayNode) {\r\n        nodeIndex = i;\r\n        break;\r\n      }\r\n    }\r\n    if (nodeIndex !== 0) {\r\n      dayNodes[nodeIndex - 1].focus();\r\n    }\r\n  }\r\n\r\n  focusNextDay(dayNode) {\r\n    const body = dayNode.parentNode.parentNode.parentNode.parentNode;\r\n    let dayNodes = body.querySelectorAll('.DayPicker-Weekday:not(.DayPicker-Weekday--outside)');\r\n    let nodeIndex;\r\n    for (let i = 0; i < dayNodes.length; i++) {\r\n      if (dayNodes[i] === dayNode) {\r\n        nodeIndex = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (nodeIndex !== dayNodes.length - 1) {\r\n      dayNodes[nodeIndex + 1].focus();\r\n    }\r\n  }\r\n\r\n  // Event handlers\r\n  handleDayKeyDown(e, day, modifiers) {\r\n    e.persist();\r\n    switch (e.keyCode) {\r\n      case keys.LEFT:\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.focusPreviousDay(e.target);\r\n      break;\r\n      case keys.RIGHT:\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.focusNextDay(e.target);\r\n      break;\r\n      case keys.ENTER:\r\n      case keys.SPACE:\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if (this.props.onWeekdayClick) {\r\n          this.handleWeekdayClick(e, day, modifiers);\r\n        }\r\n        if (this.props.onWeekdayTouchTap) {\r\n          this.handleWeekdayTouchTap(e, day, modifiers);\r\n        }\r\n      break;\r\n    }\r\n  }\r\n\r\n  handleWeekdayTouchTap(e, weekday, modifiers) {\r\n    e.persist();\r\n    this.props.onWeekdayTouchTap(e, weekday, modifiers);\r\n  }\r\n\r\n  handleWeekdayClick(e, weekday, modifiers) {\r\n    e.persist();\r\n    this.props.onWeekdayClick(e, weekday, modifiers);\r\n  }\r\n\r\n  handleWeekdayMouseEnter(e, weekday, modifiers) {\r\n    e.persist();\r\n    this.props.onWeekdayMouseEnter(e, weekday, modifiers);\r\n  }\r\n\r\n  handleWeekdayMouseLeave(e, weekday, modifiers) {\r\n    e.persist();\r\n    this.props.onWeekdayMouseLeave(e, weekday, modifiers);\r\n  }\r\n}\r\n\r\nexport default WeekdayPicker;\r\n"]}